{% extends '/dashboard/dashboard.html.twig' %}

{% block dashboard %}
    <section class="section bg-soft section-lg pt-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-12 col-lg-10">
                    <div class="d-flex flex-column flex-lg-row align-items-center justify-content-between mb-4"><a
                            href="{{ path('app_dashboard_invoices') }}" class="mb-4 mb-lg-0"><span class="icon icon-xs"><span class="fas fa-chevron-left mr-2"></span></span>{{ 'back to all invoices'|trans|capitalize }}</a>
                        <div>
                            <button class="btn btn-primary mr-2">
                                <span class="far fa-file-pdf mr-2"></span>
                                {{'download PDF'|trans|capitalize}}
                            </button>
                            <button class="btn btn-outline-gray"><span class="fas fa-print mr-2"></span> {{'print invoice'}}</button>
                        </div>
                    </div>
                    <div class="card border-light p-4 p-md-5 position-relative">
                        <div class="d-flex justify-content-between pb-4 pb-md-5 mb-4 mb-md-5 border-bottom border-light">
                            <img src="{{ style.favicon.base64 }}" class="d-none d-lg-block" alt="Spaces Logo" height="200">
                            <div><h4>{{ invoice.name }}</h4>
                                <ul class="list-group simple-list">
                                    <li class="list-group-item font-weight-norma pl-0 py-1">
                                      {% if organization.contact.adresses[0].houseNumber is defined and organization.contact.adresses[0].houseNumber is not empty %}
                                        {{ organization.contact.adresses[0].houseNumber }} {{ organization.contact.adresses[0].street }}
                                        {% else %} {{ 'adres not found'|trans|capitalize }}
                                        {% endif %}
                                    </li>
                                    <li class="list-group-item font-weight-normal pl-0 py-1">{{ organization.contact.adresses[0].region }}, {{ organization.contact.adresses[0].country }}</li>
                                    <li class="list-group-item font-weight-normal pl-0 py-1">
                                        <a class="font-weight-bold text-primary" href="#">
                                            {% if organization.contact.emails[0] is defined and organization.contact.emails[0] is not empty %}
                                                {{ organization.contact.emails[0].email }}{% else %}
                                            {{ 'no email found'|trans|capitalize }}
                                            {% endif %}
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="mb-6 d-flex align-items-center justify-content-center">
                            <h2 class="h1 mb-0">Invoice #120345</h2>
                            <span class="badge badge-xl badge-success ml-2">Paid</span>
                        </div>
                        <div class="row justify-content-between mb-4 mb-md-5">
                            <div class="col-sm"><h5>Client Information:</h5>
                                <div>
                                    <ul class="list-group simple-list">
                                        <li class="list-group-item font-weight-norma pl-0 py-1">
                                            {% if organization.contact.adresses[0].houseNumber is defined and organization.contact.adresses[0].houseNumber is not empty %}
                                                {{ organization.contact.adresses[0].houseNumber }} {{ organization.contact.adresses[0].street }}
                                            {% else %} {{ 'adres not found'|trans|capitalize }}
                                            {% endif %}
                                        </li>
                                        <li class="list-group-item font-weight-normal pl-0 py-1">{{ organization.contact.adresses[0].region }}, {{ organization.contact.adresses[0].country }}</li>
                                        <li class="list-group-item font-weight-normal pl-0 py-1">
                                            <a class="font-weight-bold text-primary" href="#">
                                                {% if organization.contact.emails[0] is defined and organization.contact.emails[0] is not empty %}
                                                    {{ organization.contact.emails[0].email }}{% else %}
                                                    {{ 'no email found'|trans|capitalize }}
                                                {% endif %}
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-sm col-lg-7">
                                <dl class="row text-sm-right">
                                    <dt class="col-6"><strong>Invoice No.</strong></dt>
                                    <dd class="col-6">00123</dd>
                                    <dt class="col-6"><strong>Date Issued:</strong></dt>
                                    <dd class="col-6">{{ invoice.dateCreated|date("d-m-Y") }}</dd>
                                    <dt class="col-6"><strong>Date Due:</strong></dt>
                                    <dd class="col-6">dueDate</dd>
                                </dl>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <div class="table-responsive">
                                    <table class="table mb-0">
                                        <thead class="bg-light border-top">
                                        <tr>
                                            <th scope="row" class="border-0 text-left">Item</th>
                                            <th scope="row" class="border-0">Description</th>
                                            <th scope="row" class="border-0">Price</th>
                                            <th scope="row" class="border-0">Qty</th>
                                            <th scope="row" class="border-0">Total</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        {% for item in invoice.items %}
                                        <tr>
                                            <th scope="row" class="text-left font-weight-bold h6">{{ item.name }}</th>
                                            <td>{{item.description}}</td>
                                            <td>{{ item.price }}</td>
                                            <td>{{ item.quantity }}</td>
                                            <td>{{ item.price * item.quantity }}</td>
                                        </tr>
                                        {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                                <div class="d-flex justify-content-end text-right mb-4 py-4 border-bottom">
                                    <div class="mt-4">
                                        <table class="table table-clear">
                                            <tbody>
                                            <tr>
                                                <td class="left"><strong>{{'Subtotal'|trans|capitalize}}</strong></td>
                                                <td class="right">{{ invoice.price }}</td>
                                            </tr>
                                            <tr>
                                                <td class="left"><strong>{{'VAT'|trans}} (21%)</strong></td>
                                                {% if invoice.taxes is defined and invoice.taxes is not empty %}
                                                {% for taxes in invoice.taxes %}
                                                <td class="right">{{ taxes }}</td>
                                                {% endfor %}
                                                {% endif %}
                                            </tr>
                                            <tr>
                                                <td class="left"><strong>Total</strong></td>
                                                <td class="right"><strong>$1230</strong></td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <h4>Payment</h4>
                                <span>payment@company.com</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
{% endblock %}
